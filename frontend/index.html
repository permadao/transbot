<!DOCTYPE html>
<html>
<head>
	<title>transbot</title>
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
	<script>
        function extractUuidFromUrl(url) {
          return url;

		  var regex = /[0-9a-f]{8}-([0-9a-f]{4}-){3}[0-9a-f]{12}/;
		  var match = url.match(regex);
		  if (match) {
		    return match[0];
		  } else {
		    var regen2 = /[0-9a-f]{32}/;
            match = url.match(regex);
            if (match){
                return match[0];
            }else{
                return null
            }
		  }
		}

		$(document).ready(function() {
			$("#send-button").click(function() {
				var inputVal = $("#input-field").val();
				var selectVal = $("#select-field").val();
                var uuid = extractUuidFromUrl(inputVal);
                u = "http://52.207.251.201:8080/v1/translate/" + uuid + "/" + selectVal;
				console.log(u);
				$.ajax({
					url: u,
					method: "GET",
					success: function(response) {
						alert(response);
					}
				});
			});
		});
	</script>
</head>
<body>
	<input type="text" id="input-field" placeholder="输入框"><br>
	<select id="select-field">
		<option value="English">English</option>
		<option value="Chinese">Chinese</option>
		<option value="Japanese">Japanese</option>
		<option value="German">German</option>
		<option value="French">French</option>
		<option value="Korean">Korean</option>
		<option value="Russian">Russian</option>
		<option value="Spanish">Spanish</option>
	</select><br>
	<button id="send-button">发送</button>
</body>
</html>
